<link rel="import" href="../../bower_components/polymer/polymer.html">

<script src="https://code.highcharts.com/highcharts.js"></script>
<script src="https://code.highcharts.com/modules/exporting.js"></script>
<script src="https://code.highcharts.com/modules/export-data.js"></script>

<dom-module id="my-student-statistiek">
    <template>
        <style>
        </style>
        <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
        <meta http-equiv="Pragma" content="no-cache">
        <meta http-equiv="Expires" content="0">

        <h1>Statistiek Student</h1>
        <div class="container">
            <div class="row">
                <div class="col-sm-6 col-md-6">
                    <div id="Charts">{{createChart}}</div>
                </div>
            </div>
        </div>

    </template>

    <script>
        Highcharts.setOptions({
                colors: ['#64FE2E', '#FF8000', '#FF0000']
        });
        Meteor.defer(function(){
        Highcharts.chart('Charts', {
            chart: {
                plotBackgroundColor: null,
                plotBorderWidth: null,
                plotShadow: false,
                type: 'pie'
            },
            title: {text: 'Presentie Student'},
            tooltip: {pointFormat: '{presentie.name}: <b>{point.percentage:.1f}%</b>'},
            plotOptions: {
                pie: {
                    allowPointSelect: true,
                    cursor: 'pointer',
                    dataLabels: {
                        enabled: true,
                        format: '<b>{point.name}</b>: {point.percentage:.1f} %',
                        style: {
                            color: (Highcharts.theme && Highcharts.theme.contrastTextColor) || 'black'
                        }
                    }
                }
            },
            series: [{
                name: 'presentie-chart',
                data: [{
                    name: 'present',
                    y: 80,
                    sliced: true,
                    selected: true
                }, {
                    name: 'geoorloofd absent',
                    y: 10
                }, {
                    name: 'ongeoorloffd absent',
                    y: 10
                }]
            }]
        });
        })
        Template.body.helpers({
            createChart: function() {}
        })
        (function () {
            'use strict';
            /* _xxxx private              : geen external data binding      - geen notify
               _c_xx private constant     : geen external binding, constant - geen notify
               c_xx  public constant      : one way external databinding [[c_xx]] - geen notify nodig
               xxxx  public               : two way external databinding {{xxxx}} - notify nodig
            */
            Polymer({
                is: 'my-student-statistiek',
            });
        })();
    </script>
</dom-module>